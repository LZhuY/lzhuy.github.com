---
layout: post
title:  "zmq"
date:   2018-10-09 10:08:00
categories: distributed_system
tags: distributed_system
---

想要拯救这个世界，我们需要做两件事情：
一，如何在任何地点连接任何两个应用程序；
二、将这个解决方案用最为简单的方式包装起来，供程序员使用。

ZMQ会为你做些什么：它会将消息快速高效地发送给其他节点，这里的节点可以是线程、进程、或是其他计算机；ZMQ为应用程序提供了一套简单的套接字API，不用考虑实际使用的协议类型（进程内、进程间、TPC、或广播）；当节点调动时，ZMQ会自动进行连接或重连；无论是发送消息还是接收消息，ZMQ都会先将消息放入队列中，并保证进程不会因为内存溢出而崩溃，适时地将消息写入磁盘；ZMQ会处理套接字异常；所有的I/O操作都在后台进行；ZMQ不会产生死锁。

创建和销毁套接字：zmq_socket(), zmq_close()
配置和读取套接字选项：zmq_setsockopt(), zmq_getsockopt()
为套接字建立连接：zmq_bind(), zmq_connect()
发送和接收消息：zmq_send(), zmq_recv()

zmq_msg_t mouse;
zmq_msg_init (&mouse);
zmq_msg_close (&mouse);